<link rel="stylesheet" href="/admin/css/content.css">

<div class="content-main">
    

    <div class=" m-4  p-3 main-content table-responsive">
        <div class="d-flex align-items-center justify-content-start my-auto content-header">
            <div>
                <h6> کلمات تخصصی </h6>
                <p>در اینجا می توانید کلمات کلیدی خود را مدیریت کنید.</p>
            </div>
            <div class="container-btn-add">
                <a href="/admin/keywords/create" class="btn-add my-auto" data-bs-toggle="tooltip" data-bs-placement="bottom"
                    data-bs-custom-class="custom-tooltip" data-bs-title="افزودن کلمه تخصصی جدید"><i
                        class="fas fa-plus m-auto"></i>افزودن کلمه جدید</a>
            </div>
        </div>
        <table class="custom-table container">
            <thead>
                <tr>
                    <th>عنوان کلمه</th>
                    <th>معنای کلمه</th>
                    <th>تنظیمات</th>
                </tr>
            </thead>
            <tbody>
                <% keywords.docs.forEach(keyword =>{ %> 
                <tr>
                    <td><%= keyword.name %></td>
                    <td><%- keyword.meaning %></td>
                    <td class="d-flex justify-content-center">
                        <a href="/admin/keywords/<%- keyword.id %>/edit">
                        <button class="btn pencil" data-bs-toggle="tooltip" data-bs-placement="bottom"
                            data-bs-custom-class="custom-tooltip" data-bs-title="ویرایش" style="margin-left: 5px;"><i
                                class="fas fa-pencil-alt"></i>
                            </button>
                        </a>
                                <form action="/admin/keywords/<%- keyword.id %>/article" method="POST">
                        <button class="btn trash" data-bs-toggle="tooltip" data-bs-placement="bottom"
                            data-bs-custom-class="custom-tooltip" data-bs-title="حذف "><i
                                class="far fa-trash-alt"></i></button>
                            </form>
                    </td>
                </tr>
                <% }) %>
            </tbody>
        </table>
        <div class="d-flex p-3 justify-content-center">
            <nav>
                <% if(keywords.pages >0){ %> 
                <ul class="d-flex paginate">
                    <% if (keywords.page == 1) { %>
                    <a class="p-link " >
                        <li class="pag">قبلی</li>
                    </a>
                    <% } else { %>
                        <a class="p-link " href="/admin/keywords/?page=<%= 1 %>">
                            <li class="pag">قبلی</li>
                        </a>
                        <% } %>
                        <% var i = ((keywords.page) > 5 ? (keywords.page) - 4 : 1) %>
                        <% if (i !== 1) { %>
                    <a class="p-link">
                        <li class="pag">...</li>
                    </a>
                    <% } %>
                    <% for (; i <= ((keywords.page) + 4) && i <= keywords.pages; i++) { %>
                        <% if (i == keywords.page) { %>
                    <a class="p-link" href="<%= i %>">
                        <li class="pag"><%= i %></li>
                    </a>
                    <% } else { %>
                    <a class="p-link" href="/admin/keywords/?page=<%= i %>">
                        <li class="pag"><%= i %></li>
                    </a>
                    <% } %>
                    <% if (i == (keywords.page) + 4 && i < keywords.pages) { %>
                        <a class="p-link">
                            <li class="pag">...</li>
                        </a>
                    <% } %>
                    <% } %>
                    <% if (keywords.page == keywords.pages) { %>
                    <a class="p-link">
                        <li class="pag">بعدی</li>
                    </a>
                    <% } else { %>
                        <a class="p-link" href="/admin/keywords/?page=<%= keywords.pages %>">
                            <li class="pag">بعدی</li>
                        </a>
                        <% } %>
                </ul>
                <% } %>
            </nav>
        </div>
    </div>


</div>
